{
  "workflow_schema_version": "2.2.0",
  "workflow_id": "71c76b4d-c004-4910-a789-466241d1170c",
  "workflow_name": "Web Research and Summary",
  "description": "DAG + ephemeral workers. Spawns a worker from .af v2 template and loads two skills per Task.",
  "version": "1.0.0",
  "created_at": "2025-09-22T12:00:00Z",
  "updated_at": "2025-09-22T12:00:00Z",
  "author": "example",
  "tags": [
    "demo",
    "research"
  ],
  "workflow_input_schema": {
    "type": "object",
    "properties": {
      "topic": {
        "type": "string"
      }
    },
    "required": [
      "topic"
    ]
  },
  "af_imports": [
    {
      "uri": "file://af/agent_templates.json",
      "version": "2"
    }
  ],
  "skill_imports": [
    {
      "uri": "file://skills/web.search.json"
    },
    {
      "uri": "file://skills/summarize.json"
    }
  ],
  "asl": {
    "Comment": "Two-step plan: Research -> Summarize",
    "StartAt": "Research",
    "Version": "1.0",
    "States": {
      "Research": {
        "Type": "Task",
        "Comment": "Search the web for the topic and collect sources",
        "AgentBinding": {
          "agent_template_ref": {
            "name": "agent_template_worker@1.0.0"
          },
          "skills": [
            "skill://web.search@1.0.0"
          ]
        },
        "Parameters": {
          "query": "$.topic"
        },
        "ResultPath": "$.research",
        "Next": "Summarize"
      },
      "Summarize": {
        "Type": "Task",
        "Comment": "Summarize the collected sources into a brief memo",
        "AgentBinding": {
          "agent_template_ref": {
            "name": "agent_template_worker@1.0.0"
          },
          "skills": [
            "skill://summarize@1.0.0"
          ]
        },
        "Parameters": {
          "sources": "$.research.results"
        },
        "ResultPath": "$.summary",
        "End": true
      }
    }
  }
}